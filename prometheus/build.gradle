String port = "9090"
String name = "prometheus"
String image = "prom/prometheus"

task start(type: Exec) {
    String prometheusConfig = project.file('prometheus.yml').absolutePath
    commandLine "docker", "run", "-d", "-p", "$port:$port", "-v", "$prometheusConfig:/etc/prometheus/prometheus.yml", "--name", name, "--rm", image
}

task reload(type: Exec) {
    commandLine 'docker', "kill", "--signal=HUP", name
}

task stop(type: Exec) {
    commandLine "docker", "kill", name
}
