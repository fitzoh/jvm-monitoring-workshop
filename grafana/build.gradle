String port = "3000"
String name = "grafana"
String image = "grafana/grafana"
String username = "codemash"
String password = "codemash"

task start(type: Exec) {
    String dataDir = project.file('data').absolutePath
    commandLine "docker", "run", "-d",
            "-e", "GF_SECURITY_ADMIN_USER=$username", "-e", "GF_SECURITY_ADMIN_PASSWORD=$password",
            "-p", "$port:$port", "-v", "$dataDir:/var/lib/grafana", "--name", name, "--rm", image
}

task stop(type: Exec) {
    commandLine "docker", "kill", name
}
